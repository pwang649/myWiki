"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7356],{3905:(a,e,t)=>{t.d(e,{Zo:()=>N,kt:()=>h});var s=t(7294);function n(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function m(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,s)}return t}function p(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?m(Object(t),!0).forEach((function(e){n(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}function r(a,e){if(null==a)return{};var t,s,n=function(a,e){if(null==a)return{};var t,s,n={},m=Object.keys(a);for(s=0;s<m.length;s++)t=m[s],e.indexOf(t)>=0||(n[t]=a[t]);return n}(a,e);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);for(s=0;s<m.length;s++)t=m[s],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(a,t)&&(n[t]=a[t])}return n}var i=s.createContext({}),l=function(a){var e=s.useContext(i),t=e;return a&&(t="function"==typeof a?a(e):p(p({},e),a)),t},N=function(a){var e=l(a.components);return s.createElement(i.Provider,{value:e},a.children)},c={inlineCode:"code",wrapper:function(a){var e=a.children;return s.createElement(s.Fragment,{},e)}},k=s.forwardRef((function(a,e){var t=a.components,n=a.mdxType,m=a.originalType,i=a.parentName,N=r(a,["components","mdxType","originalType","parentName"]),k=l(t),h=n,o=k["".concat(i,".").concat(h)]||k[h]||c[h]||m;return t?s.createElement(o,p(p({ref:e},N),{},{components:t})):s.createElement(o,p({ref:e},N))}));function h(a,e){var t=arguments,n=e&&e.mdxType;if("string"==typeof a||n){var m=t.length,p=new Array(m);p[0]=k;var r={};for(var i in e)hasOwnProperty.call(e,i)&&(r[i]=e[i]);r.originalType=a,r.mdxType="string"==typeof a?a:n,p[1]=r;for(var l=2;l<m;l++)p[l]=t[l];return s.createElement.apply(null,p)}return s.createElement.apply(null,t)}k.displayName="MDXCreateElement"},93:(a,e,t)=>{t.r(e),t.d(e,{assets:()=>i,contentTitle:()=>p,default:()=>c,frontMatter:()=>m,metadata:()=>r,toc:()=>l});var s=t(3117),n=(t(7294),t(3905));const m={id:"Code - DP",title:"RL DP Code",sidebar_position:1},p=void 0,r={unversionedId:"Code/Code - DP",id:"Code/Code - DP",title:"RL DP Code",description:"Source",source:"@site/docs/Code/DP_code.md",sourceDirName:"Code",slug:"/Code/Code - DP",permalink:"/myWiki/docs/Code/Code - DP",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Code/DP_code.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"Code - DP",title:"RL DP Code",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Binomial Identities",permalink:"/myWiki/docs/Combinatorics/Combinatorics - Binomial"},next:{title:"2048 Verilog",permalink:"/myWiki/docs/Code/Code - 2048"}},i={},l=[{value:"Source",id:"source",level:3},{value:"Optimal Policies with Dynamic Programming",id:"optimal-policies-with-dynamic-programming",level:3},{value:"Gridworld City",id:"gridworld-city",level:3},{value:"Preliminaries",id:"preliminaries",level:3},{value:"Section 1: Policy Evaluation",id:"section-1-policy-evaluation",level:3},{value:"Section 2: Policy Iteration",id:"section-2-policy-iteration",level:3},{value:"Section 3: Value Iteration",id:"section-3-value-iteration",level:3},{value:"Section 4: Asynchronous Methods",id:"section-4-asynchronous-methods",level:3},{value:"Wrapping Up",id:"wrapping-up",level:3}],N={toc:l};function c(a){let{components:e,...m}=a;return(0,n.kt)("wrapper",(0,s.Z)({},N,m,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h3",{id:"source"},"Source"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Fundamentals of Reinforcement Learning on Coursera - Assignment 2")),(0,n.kt)("h3",{id:"optimal-policies-with-dynamic-programming"},"Optimal Policies with Dynamic Programming"),(0,n.kt)("p",null,"Welcome to Assignment 2. This notebook will help you understand:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Policy Evaluation and Policy Improvement."),(0,n.kt)("li",{parentName:"ul"},"Value and Policy Iteration."),(0,n.kt)("li",{parentName:"ul"},"Bellman Equations."),(0,n.kt)("li",{parentName:"ul"},"Synchronous and Asynchronous Methods.")),(0,n.kt)("h3",{id:"gridworld-city"},"Gridworld City"),(0,n.kt)("p",null,"Gridworld City, a thriving metropolis with a booming technology industry, has recently experienced an influx of grid-loving software engineers. Unfortunately, the city's street parking system, which charges a fixed rate, is struggling to keep up with the increased demand. To address this, the city council has decided to modify the pricing scheme to better promote social welfare. In general, the city considers social welfare higher when more parking is being used, the exception being that the city prefers that at least one spot is left unoccupied (so that it is available in case someone really needs it). The city council has created a Markov decision process (MDP) to model the demand for parking with a reward function that reflects its preferences. Now the city has hired you ","\u2014"," an expert in dynamic programming ","\u2014"," to help determine an optimal policy."),(0,n.kt)("h3",{id:"preliminaries"},"Preliminaries"),(0,n.kt)("p",null,"You'll need two imports to complete this assigment:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"numpy: The fundamental package for scientific computing with Python."),(0,n.kt)("li",{parentName:"ul"},"tools: A module containing an environment and a plotting function.")),(0,n.kt)("p",null,"There are also some other lines in the cell below that are used for grading and plotting ","\u2014"," you needn't worry about them."),(0,n.kt)("p",null,"In this notebook, all cells are locked except those that you are explicitly asked to modify. It is up to you to decide how to implement your solution in these cells, ",(0,n.kt)("strong",{parentName:"p"},"but please do not import other libraries")," ","\u2014"," doing so will break the autograder."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"%%capture\n%matplotlib inline\nimport numpy as np\nimport pickle\nimport tools\n")),(0,n.kt)("p",null,"In the city council's parking MDP, states are nonnegative integers indicating how many parking spaces are occupied, actions are nonnegative integers designating the price of street parking, the reward is a real value describing the city's preference for the situation, and time is discretized by hour. As might be expected, charging a high price is likely to decrease occupancy over the hour, while charging a low price is likely to increase it."),(0,n.kt)("p",null,"For now, let's consider an environment with three parking spaces and three price points. Note that an environment with three parking spaces actually has four states ","\u2014"," zero, one, two, or three spaces could be occupied."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"num_spaces = 3\nnum_prices = 3\nenv = tools.ParkingWorld(num_spaces, num_prices)\nV = np.zeros(num_spaces + 1)\npi = np.ones((num_spaces + 1, num_prices)) / num_prices\n")),(0,n.kt)("p",null,"The value function is a one-dimensional array where the ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"i")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"i"))))),"-th entry gives the value of ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"i")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"i")))))," spaces being occupied."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"V\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"array([0., 0., 0., 0.])\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"state = 0\nV[state]\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"0.0\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"state = 0\nvalue = 10\nV[state] = value\nV\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"array([10.,  0.,  0.,  0.])\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"for s, v in enumerate(V):\n    print(f'State {s} has value {v}')\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"State 0 has value 10.0\nState 1 has value 0.0\nState 2 has value 0.0\nState 3 has value 0.0\n")),(0,n.kt)("p",null,"The policy is a two-dimensional array where the ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.kt)("mi",{parentName:"mrow"},"i"),(0,n.kt)("mo",{parentName:"mrow",separator:"true"},","),(0,n.kt)("mi",{parentName:"mrow"},"j"),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"(i, j)")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.kt)("span",{parentName:"span",className:"mopen"},"("),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"i"),(0,n.kt)("span",{parentName:"span",className:"mpunct"},","),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.05724em"}},"j"),(0,n.kt)("span",{parentName:"span",className:"mclose"},")"))))),"-th entry gives the probability of taking action ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"j")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"j")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.854em",verticalAlign:"-0.1944em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.05724em"}},"j")))))," in state ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"i")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"i"))))),"."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"pi\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"array([[0.33333333, 0.33333333, 0.33333333],\n       [0.33333333, 0.33333333, 0.33333333],\n       [0.33333333, 0.33333333, 0.33333333],\n       [0.33333333, 0.33333333, 0.33333333]])\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"state = 0\npi[state]\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"array([0.33333333, 0.33333333, 0.33333333])\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"state = 0\naction = 1\npi[state, action]\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"0.3333333333333333\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"pi[state] = np.array([0.75, 0.21, 0.04])\npi\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"array([[0.75      , 0.21      , 0.04      ],\n       [0.33333333, 0.33333333, 0.33333333],\n       [0.33333333, 0.33333333, 0.33333333],\n       [0.33333333, 0.33333333, 0.33333333]])\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"for s, pi_s in enumerate(pi):\n    print(f''.join(f'pi(A={a}|S={s}) = {p.round(2)}' + 4 * ' ' for a, p in enumerate(pi_s)))\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"pi(A=0|S=0) = 0.75    pi(A=1|S=0) = 0.21    pi(A=2|S=0) = 0.04    \npi(A=0|S=1) = 0.33    pi(A=1|S=1) = 0.33    pi(A=2|S=1) = 0.33    \npi(A=0|S=2) = 0.33    pi(A=1|S=2) = 0.33    pi(A=2|S=2) = 0.33    \npi(A=0|S=3) = 0.33    pi(A=1|S=3) = 0.33    pi(A=2|S=3) = 0.33    \n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"tools.plot(V, pi)\n")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"png",src:t(8877).Z,width:"1365",height:"513"})),(0,n.kt)("p",null,"We can visualize a value function and policy with the ",(0,n.kt)("inlineCode",{parentName:"p"},"plot")," function in the ",(0,n.kt)("inlineCode",{parentName:"p"},"tools")," module. On the left, the value function is displayed as a barplot. State zero has an expected return of ten, while the other states have an expected return of zero. On the right, the policy is displayed on a two-dimensional grid. Each vertical strip gives the policy at the labeled state. In state zero, action zero is the darkest because the agent's policy makes this choice with the highest probability. In the other states the agent has the equiprobable policy, so the vertical strips are colored uniformly."),(0,n.kt)("p",null,"You can access the state space and the action set as attributes of the environment."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"env.S\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"[0, 1, 2, 3]\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"env.A\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"[0, 1, 2]\n")),(0,n.kt)("p",null,"You will need to use the environment's ",(0,n.kt)("inlineCode",{parentName:"p"},"transitions")," method to complete this assignment. The method takes a state and an action and returns a 2-dimensional array, where the entry at ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.kt)("mi",{parentName:"mrow"},"i"),(0,n.kt)("mo",{parentName:"mrow",separator:"true"},","),(0,n.kt)("mn",{parentName:"mrow"},"0"),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"(i, 0)")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.kt)("span",{parentName:"span",className:"mopen"},"("),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"i"),(0,n.kt)("span",{parentName:"span",className:"mpunct"},","),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},"0"),(0,n.kt)("span",{parentName:"span",className:"mclose"},")")))))," is the reward for transitioning to state ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"i")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"i")))))," from the current state and the entry at ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.kt)("mi",{parentName:"mrow"},"i"),(0,n.kt)("mo",{parentName:"mrow",separator:"true"},","),(0,n.kt)("mn",{parentName:"mrow"},"1"),(0,n.kt)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"(i, 1)")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.kt)("span",{parentName:"span",className:"mopen"},"("),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"i"),(0,n.kt)("span",{parentName:"span",className:"mpunct"},","),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},"1"),(0,n.kt)("span",{parentName:"span",className:"mclose"},")")))))," is the conditional probability of transitioning to state ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"i")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"i")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6595em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"i")))))," given the current state and action."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"state = 3\naction = 1\ntransitions = env.transitions(state, action)\ntransitions\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"array([[1.        , 0.12390437],\n       [2.        , 0.15133714],\n       [3.        , 0.1848436 ],\n       [2.        , 0.53991488]])\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"for s_, (r, p) in enumerate(transitions):\n    print(f'p(S\\'={s_}, R={r} | S={state}, A={action}) = {p.round(2)}')\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"p(S'=0, R=1.0 | S=3, A=1) = 0.12\np(S'=1, R=2.0 | S=3, A=1) = 0.15\np(S'=2, R=3.0 | S=3, A=1) = 0.18\np(S'=3, R=2.0 | S=3, A=1) = 0.54\n")),(0,n.kt)("h3",{id:"section-1-policy-evaluation"},"Section 1: Policy Evaluation"),(0,n.kt)("p",null,"You're now ready to begin the assignment! First, the city council would like you to evaluate the quality of the existing pricing scheme. Policy evaluation works by iteratively applying the Bellman equation for ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"v"),(0,n.kt)("mi",{parentName:"msub"},"\u03c0"))),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"v_{\\pi}")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.1514em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03c0"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"}))))))))))," to a working value function, as an update rule, as shown below."),(0,n.kt)("p",null,(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mstyle",{parentName:"mrow",mathsize:"1.2em"},(0,n.kt)("mi",{parentName:"mstyle"},"v"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},"("),(0,n.kt)("mi",{parentName:"mstyle"},"s"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},")"),(0,n.kt)("mo",{parentName:"mstyle"},"\u2190"),(0,n.kt)("msub",{parentName:"mstyle"},(0,n.kt)("mo",{parentName:"msub"},"\u2211"),(0,n.kt)("mi",{parentName:"msub"},"a")),(0,n.kt)("mi",{parentName:"mstyle"},"\u03c0"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},"("),(0,n.kt)("mi",{parentName:"mstyle"},"a"),(0,n.kt)("mi",{parentName:"mstyle",mathvariant:"normal"},"\u2223"),(0,n.kt)("mi",{parentName:"mstyle"},"s"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},")"),(0,n.kt)("msub",{parentName:"mstyle"},(0,n.kt)("mo",{parentName:"msub"},"\u2211"),(0,n.kt)("mrow",{parentName:"msub"},(0,n.kt)("msup",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msup"},"s"),(0,n.kt)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,n.kt)("mo",{parentName:"mrow",separator:"true"},","),(0,n.kt)("mi",{parentName:"mrow"},"r"))),(0,n.kt)("mi",{parentName:"mstyle"},"p"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},"("),(0,n.kt)("msup",{parentName:"mstyle"},(0,n.kt)("mi",{parentName:"msup"},"s"),(0,n.kt)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,n.kt)("mo",{parentName:"mstyle",separator:"true"},","),(0,n.kt)("mi",{parentName:"mstyle"},"r"),(0,n.kt)("mi",{parentName:"mstyle",mathvariant:"normal"},"\u2223"),(0,n.kt)("mi",{parentName:"mstyle"},"s"),(0,n.kt)("mo",{parentName:"mstyle",separator:"true"},","),(0,n.kt)("mi",{parentName:"mstyle"},"a"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},")"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},"["),(0,n.kt)("mi",{parentName:"mstyle"},"r"),(0,n.kt)("mo",{parentName:"mstyle"},"+"),(0,n.kt)("mi",{parentName:"mstyle"},"\u03b3"),(0,n.kt)("mi",{parentName:"mstyle"},"v"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},"("),(0,n.kt)("msup",{parentName:"mstyle"},(0,n.kt)("mi",{parentName:"msup"},"s"),(0,n.kt)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},")"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},"]"))),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\large v(s) \\leftarrow \\sum_a \\pi(a | s) \\sum_{s', r} p(s', r | s, a)[r + \\gamma v(s')]")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1.2em",verticalAlign:"-0.3em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7",style:{marginRight:"0.03588em"}},"v"),(0,n.kt)("span",{parentName:"span",className:"mopen sizing reset-size6 size7"},"("),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7"},"s"),(0,n.kt)("span",{parentName:"span",className:"mclose sizing reset-size6 size7"},")"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mrel sizing reset-size6 size7"},"\u2190"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1.4124em",verticalAlign:"-0.5124em"}}),(0,n.kt)("span",{parentName:"span",className:"mop sizing reset-size6 size7"},(0,n.kt)("span",{parentName:"span",className:"mop op-symbol small-op",style:{position:"relative",top:"0em"}},"\u2211"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"-0.0103em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.5027em",marginLeft:"0em",marginRight:"0.0417em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.8em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size7 size4 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"a")))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.2973em"}},(0,n.kt)("span",{parentName:"span"})))))),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7",style:{marginRight:"0.03588em"}},"\u03c0"),(0,n.kt)("span",{parentName:"span",className:"mopen sizing reset-size6 size7"},"("),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7"},"a"),(0,n.kt)("span",{parentName:"span",className:"mord sizing reset-size6 size7"},"\u2223"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7"},"s"),(0,n.kt)("span",{parentName:"span",className:"mclose sizing reset-size6 size7"},")"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mop sizing reset-size6 size7"},(0,n.kt)("span",{parentName:"span",className:"mop op-symbol small-op",style:{position:"relative",top:"0em"}},"\u2211"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.1711em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.5027em",marginLeft:"0em",marginRight:"0.0417em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.8em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size7 size4 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"s"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.7027em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.886em",marginRight:"0.0625em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.6em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size4 size2 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))),(0,n.kt)("span",{parentName:"span",className:"mpunct mtight"},","),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.02778em"}},"r"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.427em"}},(0,n.kt)("span",{parentName:"span"})))))),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7"},"p"),(0,n.kt)("span",{parentName:"span",className:"mopen sizing reset-size6 size7"},"("),(0,n.kt)("span",{parentName:"span",className:"mord sizing reset-size6 size7"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"s"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.7334em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-3.163em",marginRight:"0.0417em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.8em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size7 size4 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))),(0,n.kt)("span",{parentName:"span",className:"mpunct sizing reset-size6 size7"},","),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7",style:{marginRight:"0.02778em"}},"r"),(0,n.kt)("span",{parentName:"span",className:"mord sizing reset-size6 size7"},"\u2223"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7"},"s"),(0,n.kt)("span",{parentName:"span",className:"mpunct sizing reset-size6 size7"},","),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7"},"a"),(0,n.kt)("span",{parentName:"span",className:"mclose sizing reset-size6 size7"},")"),(0,n.kt)("span",{parentName:"span",className:"mopen sizing reset-size6 size7"},"["),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7",style:{marginRight:"0.02778em"}},"r"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.kt)("span",{parentName:"span",className:"mbin sizing reset-size6 size7"},"+"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1.2em",verticalAlign:"-0.3em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7",style:{marginRight:"0.05556em"}},"\u03b3"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7",style:{marginRight:"0.03588em"}},"v"),(0,n.kt)("span",{parentName:"span",className:"mopen sizing reset-size6 size7"},"("),(0,n.kt)("span",{parentName:"span",className:"mord sizing reset-size6 size7"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"s"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.7334em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-3.163em",marginRight:"0.0417em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.8em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size7 size4 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))),(0,n.kt)("span",{parentName:"span",className:"mclose sizing reset-size6 size7"},")]"))))),'\nThis update can either occur "in-place" (i.e. the update rule is sequentially applied to each state) or with "two-arrays" (i.e. the update rule is simultaneously applied to each state). Both versions converge to ',(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"v"),(0,n.kt)("mi",{parentName:"msub"},"\u03c0"))),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"v_{\\pi}")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.1514em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03c0"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"}))))))))))," but the in-place version usually converges faster. ",(0,n.kt)("strong",{parentName:"p"},"In this assignment, we will be implementing all update rules in-place"),", as is done in the pseudocode of chapter 4 of the textbook. "),(0,n.kt)("p",null,"We have written an outline of the policy evaluation algorithm described in chapter 4.1 of the textbook. It is left to you to fill in the ",(0,n.kt)("inlineCode",{parentName:"p"},"bellman_update")," function to complete the algorithm."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"def evaluate_policy(env, V, pi, gamma, theta):\n    while True:\n        delta = 0\n        for s in env.S:\n            v = V[s]\n            bellman_update(env, V, pi, s, gamma)\n            delta = max(delta, abs(v - V[s]))\n        if delta < theta:\n            break\n    return V\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},'# [Graded]\ndef bellman_update(env, V, pi, s, gamma):\n    """Mutate ``V`` according to the Bellman update equation."""\n    ### START CODE HERE ###\n    v = 0\n    for action in env.A:\n        transitions = env.transitions(s, action)\n        for next_state in env.S:\n            reward = transitions[next_state, 0]\n            v += pi[s][action] * transitions[next_state, 1] * (reward + gamma * V[next_state])\n    V[s] = v        \n    ### END CODE HERE ###\n')),(0,n.kt)("p",null,"The cell below uses the policy evaluation algorithm to evaluate the city's policy, which charges a constant price of one."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"num_spaces = 10\nnum_prices = 4\nenv = tools.ParkingWorld(num_spaces, num_prices)\nV = np.zeros(num_spaces + 1)\ncity_policy = np.zeros((num_spaces + 1, num_prices))\ncity_policy[:, 1] = 1\ngamma = 0.9\ntheta = 0.1\nV = evaluate_policy(env, V, city_policy, gamma, theta)\n")),(0,n.kt)("p",null,"You can use the ",(0,n.kt)("inlineCode",{parentName:"p"},"plot")," function to visualize the final value function and policy."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"tools.plot(V, city_policy)\n")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"png",src:t(2110).Z,width:"1388",height:"513"})),(0,n.kt)("p",null,"You can check the output (rounded to one decimal place) against the answer below:",(0,n.kt)("br",{parentName:"p"}),"\n","State ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"})),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}))))),"    Value",(0,n.kt)("br",{parentName:"p"}),"\n","0 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        80.0",(0,n.kt)("br",{parentName:"p"}),"\n","1 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        81.7",(0,n.kt)("br",{parentName:"p"}),"\n","2 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        83.4",(0,n.kt)("br",{parentName:"p"}),"\n","3 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        85.1",(0,n.kt)("br",{parentName:"p"}),"\n","4 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        86.9",(0,n.kt)("br",{parentName:"p"}),"\n","5 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        88.6",(0,n.kt)("br",{parentName:"p"}),"\n","6 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        90.1",(0,n.kt)("br",{parentName:"p"}),"\n","7 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        91.6",(0,n.kt)("br",{parentName:"p"}),"\n","8 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        92.8",(0,n.kt)("br",{parentName:"p"}),"\n","9 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        93.8",(0,n.kt)("br",{parentName:"p"}),"\n","10 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a"),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a"),(0,n.kt)("mtext",{parentName:"mrow"},"\u2009"),(0,n.kt)("mtext",{parentName:"mrow"},"\u2009")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;\\;\\,\\,")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}))))),"       87.8  "),(0,n.kt)("p",null,"Observe that the value function qualitatively resembles the city council's preferences ","\u2014"," it monotonically increases as more parking is used, until there is no parking left, in which case the value is lower. Because of the relatively simple reward function (more reward is accrued when many but not all parking spots are taken and less reward is accrued when few or all parking spots are taken) and the highly stochastic dynamics function (each state has positive probability of being reached each time step) the value functions of most policies will qualitatively resemble this graph. However, depending on the intelligence of the policy, the scale of the graph will differ. In other words, better policies will increase the expected return at every state rather than changing the relative desirability of the states. Intuitively, the value of a less desirable state can be increased by making it less likely to remain in a less desirable state. Similarly, the value of a more desirable state can be increased by making it more likely to remain in a more desirable state. That is to say, good policies are policies that spend more time in desirable states and less time in undesirable states. As we will see in this assignment, such a steady state distribution is achieved by setting the price to be low in low occupancy states (so that the occupancy will increase) and setting the price high when occupancy is high (so that full occupancy will be avoided)."),(0,n.kt)("p",null,"The cell below will check that your code passes the test case above. (Your code passed if the cell runs without error.) Your solution will also be checked against hidden test cases for your final grade. (So don't hard code parameters into your solution.)"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"## Test Code for bellman_update() ## \nwith open('section1', 'rb') as handle:\n    V_correct = pickle.load(handle)\nnp.testing.assert_array_almost_equal(V, V_correct)\n")),(0,n.kt)("h3",{id:"section-2-policy-iteration"},"Section 2: Policy Iteration"),(0,n.kt)("p",null,"Now the city council would like you to compute a more efficient policy using policy iteration. Policy iteration works by alternating between evaluating the existing policy and making the policy greedy with respect to the existing value function. We have written an outline of the policy iteration algorithm described in chapter 4.3 of the textbook. We will make use of the policy evaluation algorithm you completed in section 1. It is left to you to fill in the ",(0,n.kt)("inlineCode",{parentName:"p"},"q_greedify_policy")," function, such that it modifies the policy at ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"s")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"s")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.4306em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"s")))))," to be greedy with respect to the q-values at ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mi",{parentName:"mrow"},"s")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"s")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.4306em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"s"))))),", to complete the policy improvement algorithm."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"def improve_policy(env, V, pi, gamma):\n    policy_stable = True\n    for s in env.S:\n        old = pi[s].copy()\n        q_greedify_policy(env, V, pi, s, gamma)\n        if not np.array_equal(pi[s], old):\n            policy_stable = False\n    return pi, policy_stable\n\ndef policy_iteration(env, gamma, theta):\n    V = np.zeros(len(env.S))\n    pi = np.ones((len(env.S), len(env.A))) / len(env.A)\n    policy_stable = False\n    while not policy_stable:\n        V = evaluate_policy(env, V, pi, gamma, theta)\n        pi, policy_stable = improve_policy(env, V, pi, gamma)\n    return V, pi\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},'# [Graded]\ndef q_greedify_policy(env, V, pi, s, gamma):\n    """Mutate ``pi`` to be greedy with respect to the q-values induced by ``V``."""\n    ### START CODE HERE ###\n    A = np.zeros(len(env.A))\n    for action in env.A:\n        transitions = env.transitions(s, action)\n        for next_state, (reward, prob) in enumerate(transitions):\n            A[action] += prob * (reward + gamma * V[next_state])\n    best_action = np.argmax(A)\n    pi[s] = np.eye(len(env.A))[best_action]\n    ### END CODE HERE ###\n')),(0,n.kt)("p",null,"When you are ready to test the policy iteration algorithm, run the cell below."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"env = tools.ParkingWorld(num_spaces=10, num_prices=4)\ngamma = 0.9\ntheta = 0.1\nV, pi = policy_iteration(env, gamma, theta)\n")),(0,n.kt)("p",null,"You can use the ",(0,n.kt)("inlineCode",{parentName:"p"},"plot")," function to visualize the final value function and policy."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"tools.plot(V, pi)\n")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"png",src:t(4392).Z,width:"1403",height:"513"})),(0,n.kt)("p",null,"You can check the value function (rounded to one decimal place) and policy against the answer below:",(0,n.kt)("br",{parentName:"p"}),"\n","State ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"})),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}))))),"    Value ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"})),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}})))))," Action",(0,n.kt)("br",{parentName:"p"}),"\n","0 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        81.6 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","1 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        83.3 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","2 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        85.0 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","3 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        86.8 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","4 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        88.5 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","5 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        90.2 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","6 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        91.7 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","7 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        93.1 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","8 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        94.3 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","9 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        95.3 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 3",(0,n.kt)("br",{parentName:"p"}),"\n","10 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a"),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a"),(0,n.kt)("mtext",{parentName:"mrow"},"\u2009"),(0,n.kt)("mtext",{parentName:"mrow"},"\u2009")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;\\;\\,\\,")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}))))),"      89.5 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 3  "),(0,n.kt)("p",null,"The cell below will check that your code passes the test case above. (Your code passed if the cell runs without error.) Your solution will also be checked against hidden test cases for your final grade. (So don't hard code parameters into your solution.)"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"## Test Code for q_greedify_policy() ##\nwith open('section2', 'rb') as handle:\n    V_correct, pi_correct = pickle.load(handle)\nnp.testing.assert_array_almost_equal(V, V_correct)\nnp.testing.assert_array_almost_equal(pi, pi_correct)\n")),(0,n.kt)("h3",{id:"section-3-value-iteration"},"Section 3: Value Iteration"),(0,n.kt)("p",null,"The city has also heard about value iteration and would like you to implement it. Value iteration works by iteratively applying the Bellman optimality equation for ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("msub",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msub"},"v"),(0,n.kt)("mo",{parentName:"msub",lspace:"0em",rspace:"0em"},"\u2217"))),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"v_{\\ast}")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,n.kt)("span",{parentName:"span",className:"mord"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.1757em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"\u2217"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"}))))))))))," to a working value function, as an update rule, as shown below."),(0,n.kt)("p",null,(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mstyle",{parentName:"mrow",mathsize:"1.2em"},(0,n.kt)("mi",{parentName:"mstyle"},"v"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},"("),(0,n.kt)("mi",{parentName:"mstyle"},"s"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},")"),(0,n.kt)("mo",{parentName:"mstyle"},"\u2190"),(0,n.kt)("msub",{parentName:"mstyle"},(0,n.kt)("mrow",{parentName:"msub"},(0,n.kt)("mi",{parentName:"mrow"},"max"),(0,n.kt)("mo",{parentName:"mrow"},"\u2061")),(0,n.kt)("mi",{parentName:"msub"},"a")),(0,n.kt)("msub",{parentName:"mstyle"},(0,n.kt)("mo",{parentName:"msub"},"\u2211"),(0,n.kt)("mrow",{parentName:"msub"},(0,n.kt)("msup",{parentName:"mrow"},(0,n.kt)("mi",{parentName:"msup"},"s"),(0,n.kt)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,n.kt)("mo",{parentName:"mrow",separator:"true"},","),(0,n.kt)("mi",{parentName:"mrow"},"r"))),(0,n.kt)("mi",{parentName:"mstyle"},"p"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},"("),(0,n.kt)("msup",{parentName:"mstyle"},(0,n.kt)("mi",{parentName:"msup"},"s"),(0,n.kt)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,n.kt)("mo",{parentName:"mstyle",separator:"true"},","),(0,n.kt)("mi",{parentName:"mstyle"},"r"),(0,n.kt)("mi",{parentName:"mstyle",mathvariant:"normal"},"\u2223"),(0,n.kt)("mi",{parentName:"mstyle"},"s"),(0,n.kt)("mo",{parentName:"mstyle",separator:"true"},","),(0,n.kt)("mi",{parentName:"mstyle"},"a"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},")"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},"["),(0,n.kt)("mi",{parentName:"mstyle"},"r"),(0,n.kt)("mo",{parentName:"mstyle"},"+"),(0,n.kt)("mi",{parentName:"mstyle"},"\u03b3"),(0,n.kt)("mi",{parentName:"mstyle"},"v"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},"("),(0,n.kt)("msup",{parentName:"mstyle"},(0,n.kt)("mi",{parentName:"msup"},"s"),(0,n.kt)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},")"),(0,n.kt)("mo",{parentName:"mstyle",stretchy:"false"},"]"))),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\large v(s) \\leftarrow \\max_a \\sum_{s', r} p(s', r | s, a)[r + \\gamma v(s')]")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1.2em",verticalAlign:"-0.3em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7",style:{marginRight:"0.03588em"}},"v"),(0,n.kt)("span",{parentName:"span",className:"mopen sizing reset-size6 size7"},"("),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7"},"s"),(0,n.kt)("span",{parentName:"span",className:"mclose sizing reset-size6 size7"},")"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mrel sizing reset-size6 size7"},"\u2190"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1.4124em",verticalAlign:"-0.5124em"}}),(0,n.kt)("span",{parentName:"span",className:"mop sizing reset-size6 size7"},(0,n.kt)("span",{parentName:"span",className:"mop"},"max"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.137em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.65em",marginRight:"0.0417em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.8em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size7 size4 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"a")))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.kt)("span",{parentName:"span"})))))),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mop sizing reset-size6 size7"},(0,n.kt)("span",{parentName:"span",className:"mop op-symbol small-op",style:{position:"relative",top:"0em"}},"\u2211"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.1711em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.5027em",marginLeft:"0em",marginRight:"0.0417em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.8em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size7 size4 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"s"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.7027em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-2.886em",marginRight:"0.0625em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.6em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size4 size2 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))),(0,n.kt)("span",{parentName:"span",className:"mpunct mtight"},","),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.02778em"}},"r"))))),(0,n.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.427em"}},(0,n.kt)("span",{parentName:"span"})))))),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7"},"p"),(0,n.kt)("span",{parentName:"span",className:"mopen sizing reset-size6 size7"},"("),(0,n.kt)("span",{parentName:"span",className:"mord sizing reset-size6 size7"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"s"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.7334em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-3.163em",marginRight:"0.0417em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.8em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size7 size4 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))),(0,n.kt)("span",{parentName:"span",className:"mpunct sizing reset-size6 size7"},","),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7",style:{marginRight:"0.02778em"}},"r"),(0,n.kt)("span",{parentName:"span",className:"mord sizing reset-size6 size7"},"\u2223"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7"},"s"),(0,n.kt)("span",{parentName:"span",className:"mpunct sizing reset-size6 size7"},","),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7"},"a"),(0,n.kt)("span",{parentName:"span",className:"mclose sizing reset-size6 size7"},")"),(0,n.kt)("span",{parentName:"span",className:"mopen sizing reset-size6 size7"},"["),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7",style:{marginRight:"0.02778em"}},"r"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.kt)("span",{parentName:"span",className:"mbin sizing reset-size6 size7"},"+"),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222em"}})),(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"1.2em",verticalAlign:"-0.3em"}}),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7",style:{marginRight:"0.05556em"}},"\u03b3"),(0,n.kt)("span",{parentName:"span",className:"mord mathnormal sizing reset-size6 size7",style:{marginRight:"0.03588em"}},"v"),(0,n.kt)("span",{parentName:"span",className:"mopen sizing reset-size6 size7"},"("),(0,n.kt)("span",{parentName:"span",className:"mord sizing reset-size6 size7"},(0,n.kt)("span",{parentName:"span",className:"mord mathnormal"},"s"),(0,n.kt)("span",{parentName:"span",className:"msupsub"},(0,n.kt)("span",{parentName:"span",className:"vlist-t"},(0,n.kt)("span",{parentName:"span",className:"vlist-r"},(0,n.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.7334em"}},(0,n.kt)("span",{parentName:"span",style:{top:"-3.163em",marginRight:"0.0417em"}},(0,n.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.8em"}}),(0,n.kt)("span",{parentName:"span",className:"sizing reset-size7 size4 mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},(0,n.kt)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))),(0,n.kt)("span",{parentName:"span",className:"mclose sizing reset-size6 size7"},")]"))))),"\nWe have written an outline of the value iteration algorithm described in chapter 4.4 of the textbook. It is left to you to fill in the ",(0,n.kt)("inlineCode",{parentName:"p"},"bellman_optimality_update")," function to complete the value iteration algorithm."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"def value_iteration(env, gamma, theta):\n    V = np.zeros(len(env.S))\n    while True:\n        delta = 0\n        for s in env.S:\n            v = V[s]\n            bellman_optimality_update(env, V, s, gamma)\n            delta = max(delta, abs(v - V[s]))\n        if delta < theta:\n            break\n    pi = np.ones((len(env.S), len(env.A))) / len(env.A)\n    for s in env.S:\n        q_greedify_policy(env, V, pi, s, gamma)\n    return V, pi\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},'# [Graded]\ndef bellman_optimality_update(env, V, s, gamma):\n    """Mutate ``V`` according to the Bellman optimality update equation."""\n    ### START CODE HERE ###\n    v = np.zeros(len(env.A))\n    for action in env.A:\n        transitions = env.transitions(s, action)\n        for next_state, (reward, prob) in enumerate(transitions):\n            v[action] += prob * (reward + gamma * V[next_state])\n    V[s] = np.max(v)\n    ### END CODE HERE ###\n')),(0,n.kt)("p",null,"When you are ready to test the value iteration algorithm, run the cell below."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"env = tools.ParkingWorld(num_spaces=10, num_prices=4)\ngamma = 0.9\ntheta = 0.1\nV, pi = value_iteration(env, gamma, theta)\n")),(0,n.kt)("p",null,"You can use the ",(0,n.kt)("inlineCode",{parentName:"p"},"plot")," function to visualize the final value function and policy."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"tools.plot(V, pi)\n")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"png",src:t(3916).Z,width:"1403",height:"513"})),(0,n.kt)("p",null,"You can check your value function (rounded to one decimal place) and policy against the answer below:",(0,n.kt)("br",{parentName:"p"}),"\n","State ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"})),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}))))),"    Value ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"})),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}})))))," Action",(0,n.kt)("br",{parentName:"p"}),"\n","0 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        81.6 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","1 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        83.3 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","2 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        85.0 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","3 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        86.8 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","4 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        88.5 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","5 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        90.2 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","6 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        91.7 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","7 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        93.1 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","8 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        94.3 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","9 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        95.3 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 3",(0,n.kt)("br",{parentName:"p"}),"\n","10 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a"),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a"),(0,n.kt)("mtext",{parentName:"mrow"},"\u2009"),(0,n.kt)("mtext",{parentName:"mrow"},"\u2009")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;\\;\\,\\,")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}))))),"      89.5 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 3  "),(0,n.kt)("p",null,"The cell below will check that your code passes the test case above. (Your code passed if the cell runs without error.) Your solution will also be checked against hidden test cases for your final grade. (So don't hard code parameters into your solution.)"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"## Test Code for bellman_optimality_update() ## \nwith open('section3', 'rb') as handle:\n    V_correct, pi_correct = pickle.load(handle)\nnp.testing.assert_array_almost_equal(V, V_correct)\nnp.testing.assert_array_almost_equal(pi, pi_correct)\n")),(0,n.kt)("p",null,"In the value iteration algorithm above, a policy is not explicitly maintained until the value function has converged. Below, we have written an identically behaving value iteration algorithm that maintains an updated policy. Writing value iteration in this form makes its relationship to policy iteration more evident. Policy iteration alternates between doing complete greedifications and complete evaluations. On the other hand, value iteration alternates between doing local greedifications and local evaluations. "),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"def value_iteration2(env, gamma, theta):\n    V = np.zeros(len(env.S))\n    pi = np.ones((len(env.S), len(env.A))) / len(env.A)\n    while True:\n        delta = 0\n        for s in env.S:\n            v = V[s]\n            q_greedify_policy(env, V, pi, s, gamma)\n            bellman_update(env, V, pi, s, gamma)\n            delta = max(delta, abs(v - V[s]))\n        if delta < theta:\n            break\n    return V, pi\n")),(0,n.kt)("p",null,"You can try the second value iteration algorithm by running the cell below."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"env = tools.ParkingWorld(num_spaces=10, num_prices=4)\ngamma = 0.9\ntheta = 0.1\nV, pi = value_iteration2(env, gamma, theta)\ntools.plot(V, pi)\n")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"png",src:t(7523).Z,width:"1403",height:"513"})),(0,n.kt)("h3",{id:"section-4-asynchronous-methods"},"Section 4: Asynchronous Methods"),(0,n.kt)("p",null,"So far in this assignment we've been working with synchronous algorithms, which update states in systematic sweeps. In contrast, asynchronous algorithms are free to update states in any order. Asynchronous algorithms can offer significant advantages in large MDPs, where even one synchronous sweep over the state space may be prohibitively expensive. One important type of asynchronous value iteration is known as real-time dynamic programming. Like sychronous value iteration, real-time dynamic programming updates a state by doing a local greedification followed by a local evaluation; unlike synchronous value iteration, real-time dynamic programming determines which state to update using the stream of experience generated by its policy. An outline of the algorithm is written below. Complete it by filling in the helper function. Remember that you are free to reuse functions that you have already written!"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"def real_time_dynamic_programming(env, gamma, horizon):\n    V = np.zeros(len(env.S))\n    pi = np.ones((len(env.S), len(env.A))) / len(env.A)\n    s = env.random_state()\n    for t in range(horizon):\n        real_time_dynamic_programming_helper(env, V, pi, s, gamma)\n        a = np.random.choice(env.A, p=pi[s])\n        s = env.step(s, a)\n    return V, pi\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},'# [Graded]\ndef real_time_dynamic_programming_helper(env, V, pi, s, gamma):\n    """Mutate ``pi`` and ``V`` appropriately."""\n    ### START CODE HERE ###\n    q_greedify_policy(env, V, pi, s, gamma)\n    bellman_optimality_update(env, V, s, gamma)\n    ### END CODE HERE ###\n')),(0,n.kt)("p",null,"When you are ready to test the real-time dynamic programming algorithm, run the cell below."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"env = tools.ParkingWorld(num_spaces=10, num_prices=4)\ngamma = 0.9\nhorizon = 500\nnp.random.seed(101)\nV, pi = real_time_dynamic_programming(env, gamma, horizon)\n")),(0,n.kt)("p",null,"You can use the ",(0,n.kt)("inlineCode",{parentName:"p"},"plot")," function to visualize the final value function and policy."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"tools.plot(V, pi)\n")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"png",src:t(6621).Z,width:"1388",height:"513"})),(0,n.kt)("p",null,"You can check your value function (rounded to one decimal place) and policy against the answer below:",(0,n.kt)("br",{parentName:"p"}),"\n","State ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"})),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}))))),"    Value ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"})),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}})))))," Action",(0,n.kt)("br",{parentName:"p"}),"\n","0 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        79.7 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","1 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        81.3 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","2 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        83.2 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","3 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        84.7 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","4 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        86.5 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","5 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        87.4 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","6 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        89.8 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","7 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        91.3 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","8 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        91.9 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 0",(0,n.kt)("br",{parentName:"p"}),"\n","9 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}))))),"        93.0 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 3",(0,n.kt)("br",{parentName:"p"}),"\n","10 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a"),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a"),(0,n.kt)("mtext",{parentName:"mrow"},"\u2009"),(0,n.kt)("mtext",{parentName:"mrow"},"\u2009")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;\\;\\,\\,")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.1667em"}}))))),"      87.6 ",(0,n.kt)("span",{parentName:"p",className:"math math-inline"},(0,n.kt)("span",{parentName:"span",className:"katex"},(0,n.kt)("span",{parentName:"span",className:"katex-mathml"},(0,n.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.kt)("semantics",{parentName:"math"},(0,n.kt)("mrow",{parentName:"semantics"},(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mspace",{parentName:"mrow",width:"1em"}),(0,n.kt)("mtext",{parentName:"mrow"},"\u2005\u200a")),(0,n.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\quad\\quad\\;")))),(0,n.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.kt)("span",{parentName:"span",className:"base"},(0,n.kt)("span",{parentName:"span",className:"strut",style:{height:"0em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"1em"}}),(0,n.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})))))," 3  "),(0,n.kt)("p",null,"Notice that these values differ from those of the synchronous methods we ran to convergence, indicating that the real-time dynamic programming algorithm needs more than 500 steps to converge. One takeaway from this result is that, while asychronous methods scale better to larger MDPs, they are not always the right choice ","\u2014"," in small MDPs in which all states are visited frequently, such as the Gridworld City parking MDP, synchronous methods may offer better performance."),(0,n.kt)("p",null,"The cell below will check that your code passes the test case above. (Your code passed if the cell runs without error.) Your solution will also be checked against hidden test cases for your final grade. (So don't hard code parameters into your solution.)"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"## Test Code for real_time_dynamic_programming_helper() ## \nwith open('section4', 'rb') as handle:\n    V_correct, pi_correct = pickle.load(handle)\nnp.testing.assert_array_almost_equal(V, V_correct)\nnp.testing.assert_array_almost_equal(pi, pi_correct)\n")),(0,n.kt)("h3",{id:"wrapping-up"},"Wrapping Up"),(0,n.kt)("p",null,"Congratulations, you've completed assignment 2! In this assignment, we investigated policy evaluation and policy improvement, policy iteration and value iteration, Bellman operators, and synchronous methods and asynchronous methods. Gridworld City thanks you for your service!"))}c.isMDXComponent=!0},8877:(a,e,t)=>{t.d(e,{Z:()=>s});const s=t.p+"assets/images/output_17_0-08a5cd78d6d057b6858e3b98deda234f.png"},2110:(a,e,t)=>{t.d(e,{Z:()=>s});const s=t.p+"assets/images/output_31_0-9a0255d14fe34245f6d28e1986407893.png"},4392:(a,e,t)=>{t.d(e,{Z:()=>s});const s=t.p+"assets/images/output_41_0-00668a2b11b5fdb603ff7a0bae51b630.png"},3916:(a,e,t)=>{t.d(e,{Z:()=>s});const s=t.p+"assets/images/output_51_0-6341d6b4bcd98144de889ce78a7b0627.png"},7523:(a,e,t)=>{t.d(e,{Z:()=>s});const s=t.p+"assets/images/output_58_0-6341d6b4bcd98144de889ce78a7b0627.png"},6621:(a,e,t)=>{t.d(e,{Z:()=>s});const s=t.p+"assets/images/output_65_0-955de395db4b21200985e3fd00eadca5.png"}}]);